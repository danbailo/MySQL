CREATE DATABASE COMERCIO;

USE COMERCIO;

CREATE TABLE CLIENTE(
	IDCLIENTE INT PRIMARY KEY AUTO_INCREMENT, #O BANCO INCREMENTA SOZINHO A VARIAVEL EX I++
	NOME VARCHAR(30) NOT NULL, #O BANCO NAO DEIXA O DADO ENTRAR SEM UM NOME
	SEXO ENUM('M','F') NOT NULL,
	EMAIL VARCHAR(50) UNIQUE, #UMA COLUNA N TENHA VALORES REPITIDOS, EX: UM EMAIL E UNICO NO MUNDO INTEIRO
	CPF VARCHAR(15) UNIQUE
);

CREATE TABLE TELEFONE(
	IDTELEFONE INT PRIMARY KEY AUTO_INCREMENT,
	TIPO ENUM('COM','RES','CEL'),#SE EU COLOCAR UNIQUE AQUI, SOMENTE UMA PESSOA TERA CEL, UMA TERA COM, E SO UMA TERA RES
	NUMERO VARCHAR(10),
	ID_CLIENTE INT,
	FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTE(IDCLIENTE) #CONVENCIONAR, CHAVE PRIMARIA NAO TEM UNDERLINE, CHAVE ESTRAGEIRA SIM
);

CREATE TABLE ENDERECO(
	IDENDERECO INT PRIMARY KEY AUTO_INCREMENT,
	RUA VARCHAR(30) NOT NULL,# SE EU COLOCAR UNIQUE, EU N VOU PODER TER CLIENTE MORANDO NA MESMA RUA
	BAIRRO VARCHAR(30) NOT NULL,
	CIDADE VARCHAR(30) NOT NULL,
	ESTADO CHAR(2) NOT NULL,
	ID_CLIENTE INT UNIQUE,
	FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTE(IDCLIENTE) #CONVENCIONAR, CHAVE PRIMARIA NAO TEM UNDERLINE, CHAVE ESTRAGEIRA SIM
);

/* FOREIGN KEY - CHAVE ESTRANGEIRA - FK */

/* É A CHAVE PRIMÁRIA DE UMA TABELA, QUE VAI ATE OUTRA TABELA FAZER REFERENCIA */

/* EM RELACIONAMENTOS 1 X 1 A CHAVE ESTRANGEIRA FICA NA TABELA MAIS FRACA 
   SE É RELACIONAMENTO 1 X 1, VAI TER UNIQUE NA CHAVE!
*/

/* É INSERIDA NA ENTIDADE MAIS FRACA DE UM RELACIONAMENTO, EX:
   NO RELACIONAMENTO CLIENTE E ENDEREÇO, QUAL É A ENTIDADE MAIS FRACA ?
   É O ENDEREÇO, POIS PODEMOS CADASTRAR UM CLIENTE SEM UM ENDEREÇO, MAS NAO PODEMOS 
   CADASTRAR UM ENDEREÇO SEM UM CLIENTE!
*/

/* EM RELACIONAMENTOS 1 X N, A CHAVE ESTRANGEIRA FICARA SEMPRE NA TABELA N */

SHOW DATABASES; #MOSTRA OS BANCOS

SHOW TABLES;

